task prepareEnvironment {
	description "Preparing the environemnt for testing phase in GitLab's CI/ CD pipeline"

	doFirst {
		def content = """|EXTRACTOR_API_URL=$apiUrl
        |EXTRACTOR_PAGE_PROFILE_PATH=$profilePath
        |RE_ANALYSIS_INTERVAL=$reAnalysisInterval
        |AUTH_SECRET=$authSecret
		|EXTRACTOR_CHUNK_SIZE=$chunkSize
		|EXTRACTOR_REPEAT_DELAY=$repeatDelay
        |""".stripMargin()
		def file = new File("build.env")
		file.write(content)
		println "Wrote apiUrl '$apiUrl', profileDirectory '$profilePath', re anaylsis interval " +
				"'$reAnalysisInterval'(h), auth secret '$authSecret', chunk size $chunkSize and repeat delay" +
				"'$repeatDelay'(s) to build.env"
	}
}